##### 折半查找

数组查询效率快，修改效率慢，因为数组需要依次后移

链表插入快，查询效率慢

##### 二叉树

查询快，但是遇到深度较深的则会复杂度较高

##### 平衡二叉树

平衡二叉树是一棵二叉树，其中每个节点的左右子树高度差（平衡因子）不超过1

平衡因子=∣左子树高度−右子树高度∣≤1

查询更高效，查找、插入、删除操作的时间复杂度为 O(log⁡n)

在插入和删除节点时，通过左旋右旋操作保持树的平衡。

|            名称            | LL型 | RR型 | LR型               | RL型                 |
| :------------------------: | ---- | ---- | ------------------ | -------------------- |
|    失衡节点（平衡因子）    | 2    | -2   | 2                  | -2                   |
| 失衡节点左孩子（平衡因子） | 1    | -1   | -1                 | 1                    |
|          旋转方式          | 右旋 | 左旋 | 左旋左孩子然后右旋 | 右旋右孩子然后后左旋 |

##### btree                                                                                                                                              

所有树叶在同一深度，保证书的平衡性，深度角度查询效率低。

每个节点最多有m-1个键值和m个子节点，每个节点的键值按从小到大的顺序排列。

所有叶子节点在同一层。

##### b+tree

定义：b+tree是一个排序数，每个节点有多个值，每个值左子树小于右子树，数据存储在叶子节点，叶子节点之间存在向后的指针，以达到范围找的目的。

所有数据都存储在 叶子节点 上，内部节点只作为索引。

叶子节点通过指针按顺序链接，形成一个链表结构，便于范围查询。

动态平衡：插入和删除操作后树始终保持平衡

| 特点             | B 树               | B+ 树                    |
| ---------------- | ------------------ | ------------------------ |
| 数据存储位置     | 数据存储在所有节点 | 数据存储在叶子节点       |
| 范围查询效率     | 较低               | 较高，叶子节点有顺序指针 |
| 内部节点存储内容 | 键值和数据         | 仅存储键值               |
| 空间利用率       | 较低               | 较高                     |
| 查询复杂度       | O(log⁡n)            | O(log⁡n)                  |

##### 红黑树规则：

1. 节点是**红色**或**黑色**
2. 根是**黑色**
3. 叶子节点（外部节点，空节点）都是**黑色**
4. **红色**节点的子节点都是黑色
   1. **红色**节点的父节点都是**黑色**
   2. 从根节点到叶子节点的所有路径上不能有 2 个连续的**红色**节点
5. 从任一节点到叶子节点的所有路径都包含相同数目的**黑色**节点

|  项  |                           聚集索引                           | 辅助索引                                                     |      |
| :--: | :----------------------------------------------------------: | ------------------------------------------------------------ | ---- |
| 别名 |                           聚簇索引                           | 二级索引，普通索引，非聚集索引，非聚簇索引                   |      |
| 结构 | 叶子也保存了整个行数据，所以也将聚集索引的叶子节点称为数据页 | 叶子节点只存储聚集索引的非叶子节点存储的值（一般是id），想拿到行数据要根据主键去聚集索引行数据。 |      |
| 数量 |                一张表必须有且只有一个聚集索引                | 一张表可以有任意个普通索引                                   |      |
| 优点 |           基于主键的查询非常快，因为直接定位行记录           | 更新带价比聚集索引要小                                       |      |
| 缺点 |                 更新代价大，依赖于有序的数据                 | 若需要回表，则速度更慢，弱覆盖索引则速度更快                 |      |

###### 回表：

回表从二级索引中提取对应的主键值,使用主键值去主表或聚簇索引中定位完整记录；然后从主表中获取需要的字段数据并返回给查询

性能消耗大，增加查询时长

###### 索引覆盖

要查询的数据刚好就在索引字段上，不需要徽标就可以直接返回的就是索引覆盖

###### 索引下推

在使用索引进行查询时，将查询的过滤条件也应用到索引查找过程中，以减少需要读取和处理的数据量，从而提高查询性能。

原理是尽可能把查寻条件推到索引层面进行过滤，减少从磁盘读取的数据量。

不传递给上层server，直接在存储引擎部分通过索引上的age数据判断，发现只有一条数据，那么就只回标着一条数据就行

###### 最左匹配

查询时如果没有用到第一个字段查询，那么查询会是全表查询

A%：索引查询

%A：全表查询

A，%：全表查询

A三个以上不连续只用得到A的索引查询



























